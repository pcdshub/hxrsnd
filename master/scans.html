

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>General Scans &mdash; HXRSnD 0.2.3 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Miscellaneous" href="misc_plans.html" />
    <link rel="prev" title="Delay Calibration" href="calibration.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> HXRSnD
          

          
          </a>

          
            
            
              <div class="version">
                0.2.3
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="basic_usage.html">Basic Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="scripting.html">Adding Scripts</a></li>
<li class="toctree-l1"><a class="reference internal" href="screens.html">EDM Screens</a></li>
<li class="toctree-l1"><a class="reference internal" href="running_scans.html">Running Scans</a></li>
<li class="toctree-l1"><a class="reference internal" href="running_daq_scans.html">Running DAQ Scans</a></li>
<li class="toctree-l1"><a class="reference internal" href="calibrating_delay_scans.html">Calibrating Delay Scans</a></li>
</ul>
<p class="caption"><span class="caption-text">Devices</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="sndsystem.html">Split and Delay System</a></li>
<li class="toctree-l1"><a class="reference internal" href="macromotor.html">Macromotors</a></li>
<li class="toctree-l1"><a class="reference internal" href="tower.html">Towers</a></li>
<li class="toctree-l1"><a class="reference internal" href="aerotech.html">Aerotech Motors</a></li>
<li class="toctree-l1"><a class="reference internal" href="attocube.html">Attocube Motors</a></li>
<li class="toctree-l1"><a class="reference internal" href="diode.html">Wave-8 Diodes</a></li>
<li class="toctree-l1"><a class="reference internal" href="pneumatic.html">Pneumatics and Air Bearings</a></li>
<li class="toctree-l1"><a class="reference internal" href="rtd.html">Temperature Sensors</a></li>
</ul>
<p class="caption"><span class="caption-text">Plans</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="alignment.html">Alignment Plans</a></li>
<li class="toctree-l1"><a class="reference internal" href="calibration.html">Delay Calibration</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">General Scans</a></li>
<li class="toctree-l1"><a class="reference internal" href="misc_plans.html">Miscellaneous</a></li>
</ul>
<p class="caption"><span class="caption-text">Miscellaneous</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="bragg.html">Calculations</a></li>
<li class="toctree-l1"><a class="reference internal" href="utils.html">Utility Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="exceptions.html">Exceptions</a></li>
</ul>
<p class="caption"><span class="caption-text">Core SnD Packages</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://pswww.slac.stanford.edu/swdoc/releases/skywalker/pswalker/">pswalker</a></li>
<li class="toctree-l1"><a class="reference external" href="https://pswww.slac.stanford.edu/swdoc/releases/skywalker/pcds-devices/">pcds-devices</a></li>
<li class="toctree-l1"><a class="reference external" href="https://slaclab.github.io/pydm/">pydm</a></li>
</ul>
<p class="caption"><span class="caption-text">Related Software</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://nsls-ii.github.io/bluesky">bluesky</a></li>
<li class="toctree-l1"><a class="reference external" href="https://nsls-ii.github.io/ophyd">ophyd</a></li>
</ul>
<p class="caption"><span class="caption-text">GitHub Links</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://github.com/slaclab/">SLAC</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/pcdshub/">PCDS</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">HXRSnD</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>General Scans</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/scans.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="general-scans">
<h1>General Scans<a class="headerlink" href="#general-scans" title="Permalink to this headline">¶</a></h1>
<dl class="py function">
<dt id="hxrsnd.plans.scans.linear_scan">
<code class="sig-prename descclassname">hxrsnd.plans.scans.</code><code class="sig-name descname">linear_scan</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">motor</span></em>, <em class="sig-param"><span class="n">start</span></em>, <em class="sig-param"><span class="n">stop</span></em>, <em class="sig-param"><span class="n">num</span></em>, <em class="sig-param"><span class="n">use_diag</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">return_to_start</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">md</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#hxrsnd.plans.scans.linear_scan" title="Permalink to this definition">¶</a></dt>
<dd><p>Linear scan of a motor without a detector.</p>
<p>Performs a linear scan using the inputted motor, optionally using the
diagnostics, and optionally moving the motor back to the original start
position. This scan is different from the regular scan because it does not
take a detector, and simply scans the motor.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>motor</strong> (<em>object</em>) – any ‘setable’ object (motor, temp controller, etc.)</p></li>
<li><p><strong>start</strong> (<em>float</em>) – starting position of motor</p></li>
<li><p><strong>stop</strong> (<em>float</em>) – ending position of motor</p></li>
<li><p><strong>num</strong> (<em>int</em>) – number of steps</p></li>
<li><p><strong>use_diag</strong> (<em>bool</em><em>, </em><em>optional</em>) – Include the diagnostic motors in the scan.</p></li>
<li><p><strong>md</strong> (<em>dict</em><em>, </em><em>optional</em>) – metadata</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="hxrsnd.plans.scans.centroid_scan">
<code class="sig-prename descclassname">hxrsnd.plans.scans.</code><code class="sig-name descname">centroid_scan</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">detector</span></em>, <em class="sig-param"><span class="n">motor</span></em>, <em class="sig-param"><span class="n">start</span></em>, <em class="sig-param"><span class="n">stop</span></em>, <em class="sig-param"><span class="n">steps</span></em>, <em class="sig-param"><span class="n">average</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">detector_fields</span><span class="o">=</span><span class="default_value">['stats2_centroid_x', 'stats2_centroid_y']</span></em>, <em class="sig-param"><span class="n">motor_fields</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">system</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">system_fields</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">filters</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">return_to_start</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#hxrsnd.plans.scans.centroid_scan" title="Permalink to this definition">¶</a></dt>
<dd><p>Performs a scan and returns the centroids of the inputted detector.</p>
<p>The returned centroids can be absolute or relative to the initial value. The
values are returned in a pandas DataFrame where the indices are the target
motor positions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>detector</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">BeamDetector</span></code>) – Detector from which to take the value measurements</p></li>
<li><p><strong>motor</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Motor</span></code>) – Main motor to perform the scan</p></li>
<li><p><strong>start</strong> (<em>float</em>) – Starting position of motor</p></li>
<li><p><strong>stop</strong> (<em>float</em>) – Ending position of motor</p></li>
<li><p><strong>steps</strong> (<em>int</em>) – Number of steps to take</p></li>
<li><p><strong>average</strong> (<em>int</em><em>, </em><em>optional</em>) – Number of averages to take for each measurement</p></li>
<li><p><strong>detector_fields</strong> (<em>iterable</em><em>, </em><em>optional</em>) – Fields of the detector to add to the returned dataframe</p></li>
<li><p><strong>motor_fields</strong> (<em>iterable</em><em>, </em><em>optional</em>) – Fields of the motor to add to the returned dataframe</p></li>
<li><p><strong>system</strong> (<em>list</em><em>, </em><em>optional</em>) – Extra devices to include in the datastream as we measure the average</p></li>
<li><p><strong>system_fields</strong> (<em>list</em><em>, </em><em>optional</em>) – Fields of the extra devices to add to the returned dataframe</p></li>
<li><p><strong>filters</strong> (<em>dict</em><em>, </em><em>optional</em>) – Key, callable pairs of event keys and single input functions that
evaluate to True or False. For more infromation see
<code class="xref py py-meth docutils literal notranslate"><span class="pre">apply_filters()</span></code></p></li>
<li><p><strong>return_to_start</strong> (<em>bool</em><em>, </em><em>optional</em>) – Move the scan motor back to its initial position after the scan</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>df</strong> – DataFrame containing the detector, motor, and system fields at every
step of the scan.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="misc_plans.html" class="btn btn-neutral float-right" title="Miscellaneous" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="calibration.html" class="btn btn-neutral float-left" title="Delay Calibration" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2020, SLAC National Accelerator Laboratory.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>